<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farmer Desk</title>
</head>
<body>
    <h1>Farmer Desk</h1>

    <!-- Yield Prediction Form -->
    <form action="/" method="post">
        <h2>Yield Prediction</h2>
        <label for="year">Year:</label>
        <input type="number" name="year" required>
        <br>
        <label for="rainfall">Average Rainfall (mm/year):</label>
        <input type="number" step="0.01" name="rainfall" required>
        <br>
        <label for="pesticides">Pesticides (tonnes):</label>
        <input type="number" step="0.01" name="pesticides" required>
        <br>
        <label for="temp">Average Temperature (°C):</label>
        <input type="number" step="0.01" name="temp" required>
        <br>
        <label for="area">Area (in hectares):</label>
        <input type="text" name="area" required>
        <br>
        <label for="item">Item:</label>
        <input type="text" name="item" required>
        <br>
        <button type="submit" name="predict_yield">Predict Yield</button>
    </form>

    <!-- Crop Recommendation Form -->
    <form action="/" method="post">
        <h2>Crop Recommendation</h2>
        <label for="N">N:</label>
        <input type="number" step="0.01" name="N" required>
        <br>
        <label for="P">P:</label>
        <input type="number" step="0.01" name="P" required>
        <br>
        <label for="K">K:</label>
        <input type="number" step="0.01" name="K" required>
        <br>
        <label for="temperature">Temperature (°C):</label>
        <input type="number" step="0.01" name="temperature" required>
        <br>
        <label for="humidity">Humidity (%):</label>
        <input type="number" step="0.01" name="humidity" required>
        <br>
        <label for="ph">pH:</label>
        <input type="number" step="0.01" name="ph" required>
        <br>
        <label for="rainfall">Rainfall (mm/year):</label>
        <input type="number" step="0.01" name="rainfall" required>
        <br>
        <button type="submit" name="recommend_crop">Recommend Crop</button>
    </form>

    <!-- Crop Requirements Form -->
    <form action="/" method="post">
        <h2>Crop Requirements</h2>
        <label for="crop_name">Crop Name:</label>
        <input type="text" name="crop_name" required>
        <br>
        <button type="submit" name="calculate">Get Crop Requirements</button>
    </form>

    <!-- Price Prediction Form -->
    <form action="/" method="post">
        <h2>Price Prediction</h2>
        <label for="state">State:</label>
        <input type="text" name="state" required>
        <br>
        <label for="district">District:</label>
        <input type="text" name="district" required>
        <br>
        <label for="market">Market:</label>
        <input type="text" name="market" required>
        <br>
        <label for="commodity">Commodity:</label>
        <input type="text" name="commodity" required>
        <br>
        <label for="variety">Variety:</label>
        <input type="text" name="variety" required>
        <br>
        <label for="arrival_date">Arrival Date:</label>
        <input type="date" name="arrival_date" required>
        <br>
        <button type="submit" name="predict_prices">Predict Prices</button>
    </form>

    <hr>

    <!-- Display Results -->
    {% if yield_result %}
        <h2>Yield Prediction Result</h2>
        <p>{{ yield_result }}</p>
    {% endif %}

    {% if crop_result %}
        <h2>Crop Requirements</h2>
        <p>Humidity Required: {{ crop_result['humidity'] }}%</p>
        <p>Temperature Required: {{ crop_result['temperature'] }}°F</p>
        <p>{{ crop_result['pest_warning'] }}</p>
    {% endif %}

    {% if min_price is not none %}
        <h2>Price Prediction Result</h2>
        <p>Min Price: {{ min_price }}</p>
        <p>Max Price: {{ max_price }}</p>
        <p>Modal Price: {{ modal_price }}</p>
    {% endif %}
</body>
</html>
